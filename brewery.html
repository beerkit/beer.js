<!DOCTYPE html>
<html>
<head>
  <meta charset='UTF-8'>
  <title>Brewery Example / beer.db JSON(P) API</title>

  <script src='bower_components/jquery/dist/jquery.min.js'></script>
  <script src='bower_components/underscore/underscore.js'></script>
  <script src='bower_components/requirejs/require.js'></script>

  <style>
    a {
      color: black;
      text-decoration: none;
    }
    
    #widget {
       /* background-color: lime; */
       border: 1px solid gold;
       padding: 4px;
    }
  </style>

  <script type='text/html' id='widgetTpl'>
<h3>
 <%= data.title %>
</h3>
 
<p>
 <%= data.address %> - <%= data.country.title %>
</p>
 
<ul>
 <% _.each( data.beers, function( beer, index ) { %>
     <li>
      <%= beer.title %>
     </li>
  <% }); %>
</ul>
  </script>


  <script>
    require.config( {
      baseUrl: 'js'
    });

    require( ['beer.widget' ], function( Widget ) {

      $(document).ready( function() {
        beer_widget = Widget.create( '#widget', '#widgetTpl' );
        beer_widget.update( 'ottakringer' );  // todo: put into document ready ?? 
      });

    }); // fn require
  </script>

</head>
<body>


<h1>Brewery Example / beer.db JSON(P) API</h1>

<p>
   <a href="#" onclick="beer_widget.update( 'guinness' ); return false;">Guinness</a> |
   <a href="#" onclick="beer_widget.update( 'fuller' ); return false;">Fuller's</a> |
   <a href="#" onclick="beer_widget.update( 'brooklyn' ); return false;">Brooklyn</a> |
   <a href="#" onclick="beer_widget.update( 'ottakringer' ); return false;">Ottakringer</a>
</p>

<div id='widget'></div>

</body>
</html>
